{% extends "builder/base.html" %}
{% load static %}
{% block title %}Speak2CV{% endblock %}


{% block content %}
  <section class="card">
    <h2 style="background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin: 0 0 16px 0;">Resumes</h2>

    {% if resumes %}
      <div id="resume-container">
        <ul class="list" id="resume-list">
          {% for r in resumes %}
            <li class="resume-item">
              <label class="resume-label">
                <input type="checkbox" class="resume-checkbox" data-resume-id="{{ r.id }}" />
                <a href="{% url 'resume_edit' r.id %}">
                  <strong>{{ r.title }}</strong>
                  <span class="muted">‚Äî {{ r.full_name|default:"Unnamed" }}</span>
                </a>
              </label>
            </li>
          {% endfor %}
        </ul>
      </div>
    {% else %}
      <p>No resumes yet. Create your first one.</p>
    {% endif %}

    <div class="actions">
      <a class="btn primary" href="{% url 'resume_create' %}">‚ú® Create Resume</a>
      {% if resumes %}
        <button id="delete-btn" class="btn danger" style="display: none;">üóëÔ∏è Delete Selected</button>
      {% endif %}
    </div>
  </section>

  <style>
    .resume-item {
      list-style: none;
      display: flex;
      align-items: center;
      padding: 8px 0;
    }

    .resume-label {
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      flex: 1;
      padding: 12px 16px;
      border-radius: 8px;
      transition: all 0.3s ease;
      background: #fff;
      border: 1px solid rgba(99, 102, 241, 0.1);
    }

    .resume-label:hover {
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.08) 0%, rgba(236, 72, 153, 0.08) 100%);
      border-color: var(--primary-light);
      transform: translateX(4px);
      box-shadow: 0 4px 12px rgba(99, 102, 241, 0.15);
    }

    .resume-label a {
      flex: 1;
      text-decoration: none;
      color: inherit;
    }

    .resume-label a strong {
      color: var(--primary-dark);
      transition: color 0.3s ease;
    }

    .resume-label:hover a strong {
      color: var(--primary);
    }

    .resume-checkbox {
      width: 18px;
      height: 18px;
      cursor: pointer;
      flex-shrink: 0;
      accent-color: var(--primary);
      transition: all 0.2s ease;
    }

    .resume-checkbox:hover {
      transform: scale(1.15);
    }

    #resume-list {
      padding-left: 0;
      margin: 0;
    }

    .muted {
      color: rgba(0, 0, 0, 0.6);
      transition: color 0.3s ease;
    }

    .resume-label:hover .muted {
      color: rgba(99, 102, 241, 0.7);
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .resume-item {
      animation: slideIn 0.3s ease forwards;
    }

    .resume-item:nth-child(1) { animation-delay: 0.05s; }
    .resume-item:nth-child(2) { animation-delay: 0.1s; }
    .resume-item:nth-child(3) { animation-delay: 0.15s; }
    .resume-item:nth-child(4) { animation-delay: 0.2s; }
    .resume-item:nth-child(5) { animation-delay: 0.25s; }
  </style>

  <script src="{% static 'js/resume-home.js' %}"></script>

{% endblock %}
